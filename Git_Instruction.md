![Logo](Logo.jpg)

# **Работа с Git**

# _ЧАСТЬ 1. Начало работы с Git_

## **1. Установка Git**
Загружаем последнюю версию Git [с сайта](https://git-scm.com/downloads "Официальный сайт Git").
Устанавливаем с настройками по умолчанию.

## **2. Инициализация репозитория**
Для того, чтобы создать и начать управление репозиторием, необходимо инициализировать папку. Для это нужно ее открыть через меню:
```
Файл > Открыть папку > Далее в проводнике выбрать нужную папку
```
или с помощью горячих клавиш:
```
CTRL+K   CTRL+O
```
_**Важно!** Название папки должно быть на английском языке или латинице._

## 3. **Работа в терминале**

### _**Создание**_

Для дальнейшей работы необходим терминал. Открыть его можно с помощью меню (два варианта):
```
1. Терминал > Создать терминал (CTRL+SHIFT+`)
2. Вид > Терминал (CTRL+`)
```

Разница между первым и вторым вариантом такова. При первом варианте вы создаете новый терминал. Поэтому первый вариант подходит для тех случаев, когда вам необходимо открыть новый "чистый" терминал. Во втором случае открывается новый или открывается повторно уже созданный и свернутый ранее терминал.

Так же можно закрыть имеющийся и открыть новый терминал путем нажатия на иконку **"+"** в правом верхнем углу терминала.

### _**Удаление**_

Удалить терминал можно с помощью иконки **"корзина"** в правом верхнем углу открывшегося терминала.

Завершить работу терминала можно путем нажатия иконки **"git"** в правом верхнем углу терминала. В повившемся меню выбираем пункт **"Завершить работу терминала"**.

### _**Настройка**_

Перед началом работы с терминалом, рекомендуется сменить режим с q**`PowerShell`** на **`Git Bash`** для более корректной и стабильной работы. Выполнить это можно, используя иконку в виде стрелочки в правом верхнем углу терминала, стоящей рядом с иконкой создания нового терминала.

## **4. Настройка Git**

При первом использовании, необходима проверка наличия установленнного Git. В терминале выполнить команду `Git version`.
Если Git установлен, появится сообщение о версии программы. Иначе будет сообщение об ошибке.

А так же, необходимо представиться. Для этого нужно ввести в терминале две команды:
```
git config --global user.name "Ваше имя"
git config --global user.email "Ваша почта@example.com"
```

Далее производится проверка конфигурации, сохранились ли введенные данные о пользователе с помощью команды:

```
git config --global --list
```

## **5. Инициализация репозитория 2**

После того, как выполнены все пункты выше, необходимо инициализировать открытую ранее папку, чтобы начать управление репозиторием. 

Для этого в терминале выполняем команду `git init`.

При создании репозитория, по умолчанию устанавливается ветка (последовательность коммитов) **master** или **main** (в новых версиях).

## **6. Создание файла**

Для того, чтобы создать файл, необходимо выполнить следующие действия:

**1 вариант**
```
Файл > Создать файл (CTRL+ALT+Win+N)
```
**2 вариант**

Навести курсор в область проводника в верхней левой части экрана на название папки, которая была инициализирована ранее. Появится панель с иконками. Нажать на **"создать файл"**.

_**Важно!** Название файла должно быть на английском языке или латинице и не содержать пробелов. Пробелы можно заменить нижним подчеркиванием._

_**Важно!** Обязательно через точку после название необходимо указать расширение `.md`_

## **7. Работа с файлом**

Для дальней работы с файлом, нужно открыть окно предварительного просмотра в редакторе. В правой верхней части редактора в области панели инструментов нажимаем на иконку **"Открыть область предварительного просмотра"**.

Ниже предоставлен список команд с их обозначением, которые помогут сохранять, удалять, проверять и отслеживать все изменения, внесенные в файл.

| _**Команда**_ | _**Значение**_ |
| -------- | --------- |
| git status -h | _справочная информация_ |
| git config --global --list | _проверка конфигурации на наличие данных о пользователе_ |
| git status | _текущее состояние Git`ф на наличие изменений, которые необходимо коммитить (сохранить)_ |
| git add | _добавляет содержимое рабочего каталога в индекс (staging area) для последующего коммита_ |
| git commot | _фиксация/сохранение_ |
| git commit -a -m / git commit -am| _комбинированная команда, включающая в себя последовательность git add и git commit (**имеет особенность:** сохраняет ВСЕ изменения ОДНОВРЕМЕННО для ВСЕХ файлов в один коммит)_ |
| git commit --amend -m | _внесение изменений в название последнего коммита_ |
| git add . | добавляет в индекс ВСЕ изменения из ВСЕХ файлов |
| git log | _журнал изменений_ |
| git log --oneline | _журная изменений (короткая версия)_ |
|git log число| число последних коммитов, которые выведет терминал на экран |
| git log -p | разница изменений для каждого коммита |
| fit diff | _отображает разницу между текущим файлом и сохраненным_ |
| git checkout | _переключение между версиями коммитов_ |
| git checkout master / git checkout main / git switch - | _возврат к актуальной версии коммита в главную ветку_ |
| git rm name_file| _принудительное удаление заммитенного файла_ |

Так же, для более эффективной работы с текстом, необходимо знать синтаксис языка Markdown. Детальную интрукцию можно найти [здесь](https://trofimovdigital.ru/blog/markdown-guide#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B "Шпаргалка по Markdown").

## **8. Дополнение файла изображениями

В **Git** не принято добавлять файлы изображений, так как их хранят на сторонних носителях. ЧТобы исключить ненужные файлы из загрузки - существует команда `git ignore`.

При необходимости добавить картинку к файлу, нужно поместить ее в папку с репозиторием. В **Git** в окне структуры файлов репозитория, появится новый неотслеживаемый файл. 

Для исключения ошибок вам необходимо выполнить следующие действия: 
* в месте, где эта картинка должна находится прописываем следующие строки:

```
![example_name_picture](example_path_to_picture.jpg)
```

* В квадратных скобках указывается текст, который будет отображаться при условии, если возникнут какие-либо проблемы и картинка не будет отображаться.

* В круглых скобках прописывается путь к изображению. Это может быть web-ссылка. А так же, если изображение лежит в папке репозитория, то путь можно получить при помощи следубщих действий:

```
Нажимаем  на имя файла правой клавишей мышки > скопировать относительный путь
```

* Создаем новый файл в репозитории и даем ему имя `.gitignore`.

* В этом файле прописываем шаблон расширения файлов, которые нужно добавить в список игнорирования. Прописываются таким образом:

```
*.jpg
*.jpeg
*.png
```

* Далее коммитим файл `.gitignore`.
 
## **9. Дополнительная информация**

* **Git** управляет сохраненными файлами, а не теми, что в процессе редактирования.
* Работать с **Git** можно двумя способами:
    * через коммандную строку (терминал)
    * через IDE
* После того, как команда была введена в терминал впервые, она сохраняется в памяти. Поэтому, в дальнейшей работе при необходимости повторить ранее введенную команду, достаточно нажимать на стрелку вверх на клавитуре, пролистывая список команд до нужной.
* Если во время работы терминал перешел в режим ожидания, необходимо нажать клавишу **"Q"** для возобновления работы терминала.
* Git отслеживает файлы по имени. Если имя файла было изменено, необходимо выполнить команду `git commit` 
* Перед тем, как использовать команду `git add` и `git commit`, важно сохранять все внесенные изменения в файл с помощью:

```
Файл > Сохранить (CTRL + S)
```

* Можно включить функцию **"Автосохранение"**. Данна функция не заменяет `git add` и `git commit`! 

```
Файл > Автосохранение
```

* При выполнении команды `git add` нужно указывать файл, куда будут добавлены изменения. Полностью вручную прописывать имя файла не обязательно, достаточно прописать первые буквы и нажать **TAB**. Система сама допишет название файла полностью. Если результат соответствует действительности, нажимаем **ENTER**. Выглядит команда так:
```
.git add for_examle.md
```
* При сохранении с помощью команды  `git commit -m` / `git commit -a -m` / `git commit -am`, необходимо через пробел в кавычках прописать комментарий к сохранению. Это позволит в дальнейшем понимать, какие изменения были внесены на разных этапах и в каких конкретно коммитах. Выглядит команда так:
```
git commit -m "Example 1 for user"
git commit -am "Example 2 for user"
git commit -a -m "Example 3 for user"
```
* `git add` - это накопитель изменений, а `git commit` добавляет только то, что прошло через `git add` и стало зеленое в логах терминала.
* При корректировке имени коммита, действия с командой аналогичны указанным выше:
```
git commit --amend -m "Example 4 for user"
```
* Обязательно используйте команду `git log` и `git status` после каждых коммитов, для предовращения потери внесенных данных.
* Для возврата возврата к предыдущему коммиту необходимо в команде `git checkout` прописать индекс нужного коммита. Посмотреть его можно с помощью команды `git log`. В появившейся истории, к каждому коммиту присвоен свой индекс сохранения, выделенный желтым цветом и имеющий буквенно-цифровой формат. В команде достаточно указать первые 5 знаков индекса:

```
git checkout 3a4fb4
```

# _ЧАСТЬ 2. Работа с ветками_

## **10. Создание веток**

Для более продвинутой работы понадобятся такие возможности **GIt**, как создание **веток**. Ветки позволяют легко управлять черновиками и чистовиками в репозитории. Для создания веток есть команда: 

```
git branch example_name_branch
```

**ВАЖНО!** внимательно следить, в какой ветке и каком коммите вы находитесь. Создавать ветку нужно в папке с репозиторием и проверять, что вы находитесь в главной версии файла (**master/main**). Для этого существует команда:

```
git branch
```

При вводе данной команды, в терминал выводится список существующих веток. Выделенная другим цветомпше ыефегы со звездочкой является та ветка, на которой вы сейчас находитесь. Так же, вы можете отследить актуальную ветку по признакам, которые указаны на изображении ниже:


Переключаться между ветками можно благодаря команде:

```
git checkout example_name_branch
```

Можно воспользоваться командой, которая позволяет создать новую ветку и сразу же на нее перейтив один шаг:

```
git checkout -b example_name_branch (для всех версий Git)
git switch -c example_name_branch (для новой версии Git)
```

Нужно помнить, что Git не даст перейти на другую ветку с помощью команды `git checkout`, если были изменения в текущей ветке и они не закоммичены.


## **11. Слияние веток**

Как было сказано ранее, создание веток позволяет легко управлять черновиками и чистовиками в репозитории. После того, как работа над черновиком было закончена, возникает необходимость перенести информацию из черновика в главный файл (чистовик). Для таких целей существует функция слияния веток, производимая с помощью команды: 

```
git merge example_name_branche_for_merge
```

Важно знать, что слияние нужно делать, находясь в ветке, в которую вы хотите совершить слияние. А в имени ветки в команде `git merge` указывается та ветка, из которой совершается слияние.

Можно создавать один документ в разных версиях в разных ветках, т.к. автоматического слияния не просходит.

## **12. Разрешение конфликтов**

При работе в двух ветках одновременно, может возникнуть ситуация, когда в одной и другой ветке по-разному изменен блок текста. При попытке слияния таких веток, **Git** сообщит о конфликте и предложит выбрать, какой вариант изменений оставить. Пример конфликта при слиянии на изображении ниже:

В репозитории должен быть один ответственный пользователь, наделенный правами проведения слияния и разрешения конфликтов.

## **13. Удаление веток**

При понимании, что дополнительная ветка вам не нужна более, ее можно удалить. Для этого достаточно ввести команду:

```
git branch -d example_name_brabch
```

При попытке удалить ветку с сохраненными (закоммиченными) изменениями, **Git** выдаст ошибку, так как не было произведено слияния с основной веткой. Если вы уверены, что удаление вам необходимо, можно воспользоваться принудительным удалением:

```
git branch -D example_name_branch
```

## 14. Дополнительная информация

* Команда `git log` показывает состояние более новых версий проэкта. Если вызвать эту команду из самой "свежей" ветки, мы не увидим исходного файла.

* Если слияние прошло без конфликтов, то дополнительная ветка не отобразится далее в логах.


| _**Команда**_ | _**Значение**_ |
| -------- | --------- |
| git branch --no-merged | список неслитых веток |
| git log --graph | полное графическое ветвление в логах терминала |
| git log --graph --oneline | краткое графическое ветвление в логах терминала |
| git reflog | история всех перемещений по ветке master/main |

# **Спасибо за внимание и удачи! :)**

## **Отработка урока**

## 1. Инициализация репозитория 3

Получить репозиторий можно двумя способами.
1. В терминале переходим к папке, в котрой хотим создать репозиторий.
Выполняем команду
```
git init
```
В исходной папке появится скрытая папка *.git*

2. Клонировать существующий репозиторий Git из любого места. Для этого используется команда:
```
git clone <адрес репозитория>
```
## 2. Запись измененений в репозиторий

Чтобы посмотреть состояние файлов в репозитории, необходимо выполнить команду `git status`.

ЧТобы начать отслеживать новый файл, используется команда `git add <имя файла с расширением>`.git 